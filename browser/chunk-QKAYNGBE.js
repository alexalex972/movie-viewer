import{g as E,h as S,i as N,j}from"./chunk-66FCXM7Q.js";import{b as D,c as k,d as $,e as F,f as T,g as w,h as L}from"./chunk-RE4NUULW.js";import{$a as o,Ac as B,Ba as i,Dc as P,Ka as b,Kb as I,Lb as C,Nb as y,Oa as m,Ob as h,Va as p,Wa as x,Z as _,_a as a,ab as v,bb as g,cb as f,gb as u,ob as r,pb as d,qb as M,rc as O,tb as s,ub as c}from"./chunk-UCKT6KJ3.js";function R(t,n){t&1&&(a(0,"span"),r(1,", "),o())}function A(t,n){if(t&1&&(g(0),a(1,"span"),r(2),o(),m(3,R,2,0,"span",1),f()),t&2){let e=n.$implicit,l=n.last;i(2),d(e.name),i(),p("ngIf",!l)}}function U(t,n){if(t&1&&(g(0),a(1,"div",2)(2,"button",3)(3,"mat-icon"),r(4,"arrow_back"),o(),r(5," Back "),o()(),a(6,"div",4)(7,"div",5)(8,"h1"),r(9),o(),a(10,"h3"),r(11),o(),a(12,"h2"),r(13),s(14,"date"),o(),m(15,A,4,2,"ng-container",6),a(16,"p"),r(17),o(),a(18,"span"),r(19),o()()(),f()),t&2){let e=n.ngIf,l=u();i(6),x("background-image",l.backdropImage(e)),i(3),d(e.title),i(2),d(e.tagline),i(2),d(c(14,8,e.release_date)),i(2),p("ngForOf",e.genres),i(2),d(e.overview),i(2),M("\u2B50 ",e.vote_average.toFixed(1),"/10")}}function q(t,n){if(t&1&&(a(0,"div"),v(1,"app-loading",7),o()),t&2){let e=u();i(),p("loading$",e.loading$)("loadingMessage","Loading movie details...")}}function G(t,n){if(t&1&&(a(0,"div"),v(1,"app-error",8),o()),t&2){let e=n.ngIf;i(),p("error",e)}}var z=class t{id="";store=_(O);movie$=this.store.select(D);loading$=this.store.select(k);error$=this.store.select($);ngOnInit(){this.id&&(this.store.dispatch(P()),this.store.dispatch(B({movieId:this.id})))}backdropImage(n){return n?.backdrop_path?`linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url(${F(n.backdrop_path)})`:""}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-movie-details"]],inputs:{id:"id"},decls:7,vars:9,consts:[[1,"movie-details-container"],[4,"ngIf"],[1,"movie-details-breadcrumb-container"],["mat-button","","extended","","routerLink","/movies"],[1,"movie-details-backdrop"],[1,"movie-details-content"],[4,"ngFor","ngForOf"],[3,"loading$","loadingMessage"],[3,"error"]],template:function(e,l){e&1&&(a(0,"div",0),m(1,U,20,10,"ng-container",1),s(2,"async"),m(3,q,2,2,"div",1),s(4,"async"),m(5,G,2,1,"div",1),s(6,"async"),o()),e&2&&(i(),p("ngIf",c(2,3,l.movie$)),i(2),p("ngIf",c(4,5,l.loading$)),i(2),p("ngIf",c(6,7,l.error$)))},dependencies:[L,I,C,T,w,y,h,S,E,j,N],styles:[".movie-details-container[_ngcontent-%COMP%]{margin:0 auto;max-width:1080px;padding-top:72px}.movie-details-breadcrumb-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-bottom:16px}.movie-details-backdrop[_ngcontent-%COMP%]{position:relative;padding:24px;color:#fff;min-height:400px;margin-bottom:24px;background-size:cover;background-position:center;display:flex;align-items:end}.movie-details-content[_ngcontent-%COMP%]{position:relative;z-index:1}"]})};export{z as MovieDetailsComponent};
